\chapter{Building Abstractions with Data}

\section{Introduction to Data Abstraction}

\subsection{Example: Arithmetic Operations for Rational Numbers}

\begin{exe}[2.1]
    A possibility for a \vscm{make-rat} handling both positive and negative 
    arguments:
    \scm{ch2/2.01.scm}
\end{exe}

\subsection{Abstraction Barriers}

\begin{exe}[2.2]
    Exemple implementation for the representation of segments in a plane:
    \scm{ch2/2.02.scm}
\end{exe}

\begin{exe}[2.3]
    In the following implementation, a rectangle is represented by its two 
    opposite sides, which must have the same orientation. The code makes use of 
    auxiliary procedures defined below.

    I added selectors to access each of the vertices of the rectangle to be 
    able to print rectangles in a uniform format.
    \scm{ch2/2.03.1.scm}

    The procedures that compute the perimeter and area of a rectangle, and the 
    procedure that prints a rectangle, are defined thus:
    \scm{ch2/2.03.perim-area.scm}

    Another possibility is to represent a rectangle by its four vertices:
    \scm{ch2/2.03.2.scm}

    Yet another possibility is to represent a rectangle by two perpendicular 
    segments with the same origin:
    \scm{ch2/2.03.3.scm}

    The procedures \vscm{perim-rect}, \vscm{area-rect} and \vscm{print-rect} 
    work in all three cases.

    \begin{comp}
        The code above makes use of the following auxiliary procedures to check 
        that the input is correct, compute the length of a segment, and print 
        points inline for use in \vscm{print-rect}:
        \scm{ch2/2.03.aux.scm}
    \end{comp}
\end{exe}

\subsection{What Is Meant by Data?}

\begin{exe}[2.4]
    With the representation of pairs given in the exercise, \vscm{(cons x y)} is 
    a procedure that takes as its argument a procedure \vscm{m} with two 
    arguments and returns the result of the application of \vscm{m} to \vscm{x} 
    and \vscm{y}.

    \vscm{(car z)} applies the procedure \vscm{(cons x y)} to the procedure that 
    returns the first of its arguments, so \vscm{(car (cons x y))} yields 
    \vscm{x}.

    Using the substitution model, the successive steps are:
    \scm{ch2/2.04a.scm}

    The corresponding definition of \vscm{cdr} is:
    \scm{ch2/2.04b.scm}
    The method to prove that \vscm{(cdr (cons x y))} yields \vscm{y} is the same 
    as with \vscm{car}.
\end{exe}

\begin{exe}[2.5]
    If $a$ and $b$ are known, we can compute $2^a 3^b$, and since the 
    decomposition of integers as a product of primes is unique, itâ€™s possible to 
    find $a$ and $b$ from the value of $2^a 3^b$.

    The procedures \vscm{cons}, \vscm{car}, and \vscm{cdr} corresponding to this 
    representation can be defined as:
    \scm{ch2/2.05.scm}
\end{exe}
